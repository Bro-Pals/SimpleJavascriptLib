<!DOCTYPE html>
<html>
<head>
	<title> Testing our library</title>
	<meta charset="UTF-8">
	<style>
	canvas
	{
		border: 1px solid black;
	}
	</style>
</head>

<body onload="derp()">

<canvas width="640" height="480" id="joe">
	There should be a canvas here
</canvas>

<p id="show">Empty</p>

<p id="ImageAppender"></p>

<script src="../SimpleLibrary/setup.js"></script>
<script src="../SimpleLibrary/physics.js"></script>

<script>

var testBlock;
var block2;

var scale = 10;

// the first method ran
function derp() {
	setCanvasInfo("joe", 640, 480, "2d");
	
	loadImage("level", "testLevel.gif");
	//drawImage("level", 0, 0);
	
	var imgd = getImageDataArray("level", 40, 40);
	
	document.getElementById("show").innerHTML = "Hello!";
	
	var xOn = 0;
	var yOn = 0;
	var numOn = 0;
	for (var i=0; i<imgd.length; i=i+4) {
		if (numOn >= 40) {
			yOn++;
			xOn=0;
		}
		if ((imgd[i]==0) && (imgd[(i+1)]==0) && (imgd[(i+2)]==0)) {
			var newBlock = new Block(xOn*scale, yOn*scale, scale, scale);
		}
		
		xOn++;
		numOn++;
		
	}
	
	updateBlocks();
}

// event listeners
document.addEventListener('keydown',pressKey,false);

</script>

</body>

</html>